---
layout: page
title: ä¸€é”®æ¨é€ Docker Hub é•œåƒåˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼ˆå«å®Œæ•´è„šæœ¬ï¼‰
category: æŠ€æœ¯
tags: Docker
---


# ğŸš€ ä¸€é”®æ¨é€ Docker Hub é•œåƒåˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼ˆå«å®Œæ•´è„šæœ¬ï¼‰

åœ¨å›½å†…ä½¿ç”¨ Docker Hub æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ° **503 Service Unavailable** æˆ– **æ‹‰å–é€Ÿåº¦ææ…¢** çš„é—®é¢˜ã€‚
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†é•œåƒä» Docker Hub åŒæ­¥åˆ° **é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼ˆACRï¼‰**ï¼Œä»¥åå°±èƒ½ç¨³å®šé«˜é€Ÿåœ°ä»é˜¿é‡Œäº‘æ‹‰å–ã€‚

æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°†é•œåƒï¼ˆä¾‹å¦‚ `xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript`ï¼‰æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ï¼Œå¹¶æä¾›ä¸€ä»½å¯ç›´æ¥æ‰§è¡Œçš„ **ä¸€é”®æ¨é€è„šæœ¬**ã€‚

---

## ğŸ“˜ ä¸€ã€æ€è·¯æ¦‚è¿°

æ•´ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ 5 æ­¥ï¼š

1. ä» Docker Hub æ‹‰å–é•œåƒï¼ˆæˆ–åœ¨èƒ½è®¿é—®çš„ç¯å¢ƒä¸­å¯¼å‡ºé•œåƒï¼‰
2. ç™»å½•é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ï¼ˆACRï¼‰
3. ç»™é•œåƒé‡æ–°æ‰“æ ‡ç­¾ä¸ºé˜¿é‡Œäº‘æ ¼å¼
4. æ¨é€é•œåƒåˆ°é˜¿é‡Œäº‘ä»“åº“
5. åœ¨æœåŠ¡å™¨ä¸Šä»é˜¿é‡Œäº‘æ‹‰å–ä½¿ç”¨

---

## âš™ï¸ äºŒã€ç¯å¢ƒå‡†å¤‡

å‡è®¾ï¼š

* é˜¿é‡Œäº‘é•œåƒä»“åº“åœ°åŒºï¼š`registry.cn-beijing.aliyuncs.com`
* å‘½åç©ºé—´ï¼š`xdb_zc`
* éœ€è¦åŒæ­¥çš„é•œåƒï¼š`xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript`

---

## ğŸ§° ä¸‰ã€ä¸€é”®æ¨é€è„šæœ¬

å°†ä»¥ä¸‹å†…å®¹ä¿å­˜ä¸º `push-to-acr.sh` æ–‡ä»¶ï¼š

```bash
#!/bin/bash
#
# ä¸€é”®æ¨é€ Docker Hub é•œåƒåˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“
# ä½œè€…: ChatGPTï¼ˆGPT-5ï¼‰
# ä½¿ç”¨: ./push-to-acr.sh xiebinn/dotnet 8.0-aspnetcore-runtime-with-ghostscript
#

# ==== åŸºæœ¬é…ç½® ====
ALIYUN_REGISTRY="registry.cn-beijing.aliyuncs.com"
NAMESPACE="xdb_zc"

# ==== å‚æ•°æ£€æŸ¥ ====
if [ $# -lt 2 ]; then
  echo "âŒ ä½¿ç”¨æ–¹æ³•: $0 <é•œåƒå> <æ ‡ç­¾>"
  echo "ä¾‹å¦‚: $0 xiebinn/dotnet 8.0-aspnetcore-runtime-with-ghostscript"
  exit 1
fi

IMAGE_NAME="$1"
IMAGE_TAG="$2"

SOURCE_IMAGE="${IMAGE_NAME}:${IMAGE_TAG}"
TARGET_IMAGE="${ALIYUN_REGISTRY}/${NAMESPACE}/$(basename ${IMAGE_NAME}):${IMAGE_TAG}"

echo "ğŸš€ å‡†å¤‡å°†é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘..."
echo "ğŸ“¦ æºé•œåƒ:   ${SOURCE_IMAGE}"
echo "ğŸ¯ ç›®æ ‡é•œåƒ: ${TARGET_IMAGE}"
echo

# ==== Step 1. æ‹‰å–é•œåƒ ====
echo "â¡ï¸ 1/4 æ‹‰å–æºé•œåƒ..."
docker pull "${SOURCE_IMAGE}" || {
  echo "âŒ æ‹‰å–é•œåƒå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ä»£ç†è®¾ç½®ï¼"
  exit 1
}

# ==== Step 2. é‡æ–°æ‰“æ ‡ç­¾ ====
echo "â¡ï¸ 2/4 æ‰“æ ‡ç­¾ä¸ºé˜¿é‡Œäº‘ä»“åº“æ ¼å¼..."
docker tag "${SOURCE_IMAGE}" "${TARGET_IMAGE}"

# ==== Step 3. ç™»å½•é˜¿é‡Œäº‘é•œåƒä»“åº“ ====
echo "â¡ï¸ 3/4 ç™»å½•é˜¿é‡Œäº‘é•œåƒä»“åº“ (${ALIYUN_REGISTRY})"
docker login --username=<ä½ çš„é˜¿é‡Œäº‘è´¦å·> "${ALIYUN_REGISTRY}"
if [ $? -ne 0 ]; then
  echo "âŒ ç™»å½•é˜¿é‡Œäº‘å¤±è´¥ï¼Œè¯·ç¡®è®¤è´¦å·å¯†ç æ­£ç¡®"
  exit 1
fi

# ==== Step 4. æ¨é€é•œåƒ ====
echo "â¡ï¸ 4/4 æ¨é€é•œåƒåˆ°é˜¿é‡Œäº‘..."
docker push "${TARGET_IMAGE}" || {
  echo "âŒ æ¨é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»“åº“æ˜¯å¦å­˜åœ¨ï¼ˆå‘½åç©ºé—´: ${NAMESPACE}ï¼‰"
  exit 1
}

echo
echo "âœ… é•œåƒå·²æˆåŠŸæ¨é€åˆ°é˜¿é‡Œäº‘:"
echo "   ${TARGET_IMAGE}"
echo
echo "ä¸‹æ¬¡å¯ç›´æ¥ä½¿ç”¨:"
echo "   docker pull ${TARGET_IMAGE}"
```

---

## ğŸ§© å››ã€ä½¿ç”¨æ–¹æ³•

1. **ä¿å­˜è„šæœ¬**

   ```bash
   nano push-to-acr.sh
   ```

   ç²˜è´´ä¸Šæ–¹è„šæœ¬å†…å®¹åä¿å­˜ã€‚

2. **èµ‹äºˆæ‰§è¡Œæƒé™**

   ```bash
   chmod +x push-to-acr.sh
   ```

3. **æ‰§è¡Œè„šæœ¬**

   ```bash
   ./push-to-acr.sh xiebinn/dotnet 8.0-aspnetcore-runtime-with-ghostscript
   ```

4. **ç»“æœç¤ºä¾‹**

   ```
   ğŸš€ å‡†å¤‡å°†é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘...
   ğŸ“¦ æºé•œåƒ:   xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript
   ğŸ¯ ç›®æ ‡é•œåƒ: registry.cn-beijing.aliyuncs.com/xdb_zc/dotnet:8.0-aspnetcore-runtime-with-ghostscript

   â¡ï¸ 1/4 æ‹‰å–æºé•œåƒ...
   â¡ï¸ 2/4 æ‰“æ ‡ç­¾ä¸ºé˜¿é‡Œäº‘ä»“åº“æ ¼å¼...
   â¡ï¸ 3/4 ç™»å½•é˜¿é‡Œäº‘é•œåƒä»“åº“...
   Login Succeeded
   â¡ï¸ 4/4 æ¨é€é•œåƒåˆ°é˜¿é‡Œäº‘...
   âœ… é•œåƒå·²æˆåŠŸæ¨é€åˆ°é˜¿é‡Œäº‘:
      registry.cn-beijing.aliyuncs.com/xdb_zc/dotnet:8.0-aspnetcore-runtime-with-ghostscript
   ```

---

## ğŸ§  äº”ã€ç¦»çº¿å¯¼å…¥é•œåƒï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ åœ¨å›½å†…ç½‘ç»œç¯å¢ƒæ— æ³•æ‹‰å–é•œåƒï¼Œå¯ä»¥ä½¿ç”¨å¯¼å‡ºä¸å¯¼å…¥æ–¹å¼ï¼š

**åœ¨å¯è®¿é—® Docker Hub çš„æœºå™¨æ‰§è¡Œï¼š**

```bash
docker pull xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript
docker save -o dotnet-ghostscript.tar xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript
```

**åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š**

```bash
docker load -i dotnet-ghostscript.tar
./push-to-acr.sh xiebinn/dotnet 8.0-aspnetcore-runtime-with-ghostscript
```

è¿™æ ·å³ä½¿æ²¡æœ‰å¤–ç½‘ï¼Œä¹Ÿèƒ½å°†é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘ã€‚

---

## âœ… å…­ã€æ€»ç»“

| æ­¥éª¤    | å‘½ä»¤                                                                                                                                                         |
| ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| æ‹‰å–é•œåƒ  | `docker pull xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript`                                                                                       |
| æ ‡è®°é•œåƒ  | `docker tag xiebinn/dotnet:8.0-aspnetcore-runtime-with-ghostscript registry.cn-beijing.aliyuncs.com/xdb_zc/dotnet:8.0-aspnetcore-runtime-with-ghostscript` |
| ç™»å½•é˜¿é‡Œäº‘ | `docker login registry.cn-beijing.aliyuncs.com`                                                                                                            |
| æ¨é€é•œåƒ  | `docker push registry.cn-beijing.aliyuncs.com/xdb_zc/dotnet:8.0-aspnetcore-runtime-with-ghostscript`                                                       |
| ä½¿ç”¨é•œåƒ  | `docker pull registry.cn-beijing.aliyuncs.com/xdb_zc/dotnet:8.0-aspnetcore-runtime-with-ghostscript`                                                       |

é€šè¿‡è¿™ä¸ªè„šæœ¬ï¼Œä½ å¯ä»¥åœ¨å‡ ç§’å†…è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼Œä¸å†ä¸º 503 æˆ–æ‹‰å–è¶…æ—¶çƒ¦æ¼ ğŸš€